import recast from 'recast'

/**
 * Generate the component template logic
 * @param   { Object } sourceNode - node generated by the riot compiler
 * @param   { string } source - original component source code
 * @param   { Object } options - user options
 * @param   { Output } output - current compiler output
 * @returns { Promise<Output> } - enhanced output with the result of the current generator
 */
export default async function template(sourceNode, source, options, { ast, map }) { // eslint-disable-line
  return { ast, map, code: recast.print(ast).code }
}